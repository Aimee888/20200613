# 半自动爬虫开发
## 需求分析
&emsp;&emsp;在百度贴吧中任意寻找一个贴吧并打开一个热门帖子，将帖子的源代码
复制下来，并保存为source.txt。Python读入这个source.txt文件，通过正则表达式
获取用户名、发帖内容和发帖时间，并保存为result.csv。  
&emsp;&emsp;涉及的知识点如下：  
&emsp;&emsp;（1）在浏览器中查看网站的源代码  
&emsp;&emsp;（2）使用Python读文本文件  
&emsp;&emsp;（3）正则表达式的应用  
&emsp;&emsp;（4）先抓大在抓小的匹配技巧  
&emsp;&emsp;（5）使用Python写CSV文件  

###baidutieba.py
如果有一些人的回帖内容是空白的，是因为回帖是图片，而代码正则表达式只能提取
文字，因此回帖内容为空，是正常情况。不过这一次的代码有逻辑问题。  
代码的逻辑是，首先分别获取所有的用户名，接着分别获取所有的帖子内容，然后分
别获取所有的回帖时间，最后“按顺序”拼在一起。爬虫认为，用户名列表里面的第
1个人就是帖子列表里的第一个帖子的发帖人，发帖时间刚好也是时间列表里面的第
1个时间。这里看起来一一对应，但实际上，这仅仅是表象。  
一个帖子一页是30楼，这3个列表理论上都应该有30个元素，那如果帖子里面，有一
个人的帖子是在2019年回的呢？Py里面的正则匹配的是2020年的，所以2019年的匹配
不到，那么时间列表实际上只有29个元素，并不是一一对应的关系。解决这种问题，
需要使用先抓大在抓小的技巧。把每一层楼都抓取下来，再在此基础上从每一层楼
里面分别获取用户名、帖子内容和发帖时间。如此，就有baidutieba1.py  

###baidutieba1.py
先获取每一层楼的信息，在分别在每一层楼的信息中提取用户名，内容，时间。
